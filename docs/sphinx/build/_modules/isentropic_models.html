
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>isentropic_models &#8212; thermosystems 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">thermosystems 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">isentropic_models</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for isentropic_models</h1><div class="highlight"><pre>
<span></span><span class="c1"># Import necessary packages here</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">bisect</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span>

<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># Date:    September 17, 2020</span>
<span class="c1"># Purpose: This file contains classes describing the performance of</span>
<span class="c1">#          gas flow systems as classes</span>

<span class="c1"># Source Code Metadata</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Jonathan A. Webb&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2020, Jon Webb Inc.&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>

<span class="c1"># REFERENCES</span>
<span class="c1">#</span>
<span class="c1"># 1. Hill, P. and Peterson C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="c1">#    Addison Wesley Publishing Company, Reading, MA, 1992</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># This class describes stagnation conditions based on static conditions</span>


<div class="viewcode-block" id="Stagnation"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation">[docs]</a><span class="k">class</span> <span class="nc">Stagnation</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains equations for generic adiabatic-isentropic</span>
<span class="sd">    relationships that describe the effect of work or heat addition</span>
<span class="sd">    on the properties of a gaseous flow field.  All functions are</span>
<span class="sd">    encoded as class methods and all relationships are derived from</span>
<span class="sd">    the following references</span>

<span class="sd">    1. Hill, P. and Peterson, C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="sd">       Addison Wesley Publishing Co., Reading, MA, 1992</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Stagnation.stagnation_pressure"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.stagnation_pressure">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">stagnation_pressure</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">static_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param static_pressure: The static pressure in units of Pascals</span>
<span class="sd">        :param mach_number: The Mach number</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :return stag_pres: The stagnation pressure in units of Pascals</span>

<span class="sd">        This function determines the stagnation pressure</span>
<span class="sd">        using the relationship from pg. 72 or reference 1 shown</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P_o = P\\left[1+\\frac{\gamma-1}{\gamma}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_pres</span> <span class="o">=</span> <span class="n">static_pressure</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span>
                                       <span class="n">mach_number</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stag_pres</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.stagnation_temperature"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.stagnation_temperature">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">stagnation_temperature</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">static_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                               <span class="n">mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                               <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param static_temperature: The static temperature in units of Kelvins</span>
<span class="sd">        :param mach_number: The Mach number</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :return stag_temp: The stagnation temperature</span>

<span class="sd">        This function determines the stagnation temperature</span>
<span class="sd">        using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_o=T\\left(1+\\frac{\gamma-1}{2}M^2\\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="n">static_temperature</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span>
                                          <span class="n">mach_number</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stag_temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.static_pressure"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.static_pressure">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">static_pressure</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="n">mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param stagnation_pressure: The stagnation pressure in units</span>
<span class="sd">                                       of Pascals</span>
<span class="sd">        :param mach_number: The Mach number</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :return static_pres: The static pressure in units of Pascals</span>

<span class="sd">        This function determines the static pressure</span>
<span class="sd">        using the relationship from pg. 72 or reference 1, shown</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P = \\frac{P_o}{\\left[1+\\frac{\gamma-1}{2}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">denominator</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">mach_number</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">denominator</span> <span class="o">=</span> <span class="n">denominator</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stagnation_pressure</span> <span class="o">/</span> <span class="n">denominator</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.static_temperature"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.static_temperature">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">static_temperature</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                           <span class="n">mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                           <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param stagnation_temperature: The stagnation temperature in units</span>
<span class="sd">                                       of Kelvins</span>
<span class="sd">        :param mach_number: The Mach number</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :return static_temp: The static temperature in units of Kelvins</span>

<span class="sd">        This function determines the static temperature</span>
<span class="sd">        using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T = \\frac{T_o}{\\left(1+\\frac{\gamma-1}{2}M^2\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">denominator</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">mach_number</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="k">return</span> <span class="n">stagnation_temperature</span> <span class="o">/</span> <span class="n">denominator</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.pressure_based_mach"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.pressure_based_mach">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">pressure_based_mach</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stag_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">stat_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param stag_pres: The stagnation pressure in units of Pascals</span>
<span class="sd">        :param stat_pres: The static pressure in units of Pascals</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :return mach_number: The Mach number</span>

<span class="sd">        This function determines the mach number</span>
<span class="sd">        using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           M = \sqrt[]{\\frac{\\left(P_o/P\\right)^{\\left(\gamma-1\\right)/\gamma} - 1}{\\frac{\gamma-1}{2}}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">one</span> <span class="o">=</span> <span class="p">((</span><span class="n">stag_pres</span> <span class="o">/</span> <span class="n">stat_pres</span><span class="p">)</span> <span class="o">**</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="n">gamma</span><span class="p">))</span> <span class="o">-</span> <span class="mf">1.0</span>
        <span class="k">return</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">one</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span> <span class="o">**</span> <span class="mf">0.5</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.temperature_based_mach"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.temperature_based_mach">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">temperature_based_mach</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stag_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">stat_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                               <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param stag_temp: The stagnation temperature in units of Kelvins</span>
<span class="sd">        :param stat_temp: The static temperature in units of Kelvins</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :return mach_number: The Mach number</span>

<span class="sd">        This function determines the mach number</span>
<span class="sd">        using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           M = \sqrt[]{\\frac{\\left(T_o/T\\right) - 1}{\\frac{\gamma-1}{2}}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">one</span> <span class="o">=</span> <span class="p">(</span><span class="n">stag_temp</span> <span class="o">/</span> <span class="n">stat_temp</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1.0</span>
        <span class="n">two</span> <span class="o">=</span> <span class="n">one</span> <span class="o">/</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">two</span> <span class="o">**</span> <span class="mf">0.5</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.speed_of_sound"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.speed_of_sound">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">speed_of_sound</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">static_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                       <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific heat</span>
<span class="sd">        :param static_temperature: The static temperature in units of Kelvins</span>
<span class="sd">        :param molar_mass: Molar mass of the fluid in units of J/mol-K</span>
<span class="sd">        :return sos: The speed of sound in meters per second</span>

<span class="sd">        This function determines the speed of sound</span>
<span class="sd">        using the relationship from pg. 68 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           a = \sqrt[]{\gamma R T}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">universal_gas_constant</span> <span class="o">=</span> <span class="mf">8.314</span>  <span class="c1"># J/K-mol</span>
        <span class="n">gas_constant</span> <span class="o">=</span> <span class="n">universal_gas_constant</span> <span class="o">/</span> <span class="n">molar_mass</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">*</span> <span class="n">gas_constant</span> <span class="o">*</span> <span class="n">static_temperature</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.mach_number"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.mach_number">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">mach_number</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">static_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                    <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param static_temperature: The static temperature in units of Kelvins</span>
<span class="sd">        :param molar_mass: The molar mass of the fluid in units of J/mol-K</span>
<span class="sd">        :param velocity: The magnitude of the velocity in units of</span>
<span class="sd">                         meters per second</span>
<span class="sd">        :return mach_number: The Mach number</span>

<span class="sd">        This function determines the mach number</span>
<span class="sd">        using the relationship from pg. 68 or reference 1, shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           M = \\frac{u}{\sqrt[]{\gamma R T}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sos</span> <span class="o">=</span> <span class="n">Stagnation</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">static_temperature</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">velocity</span> <span class="o">/</span> <span class="n">sos</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.temp_exit_mach"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.temp_exit_mach">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">temp_exit_mach</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">exit_mach</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                       <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">stag_inlet_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                       <span class="n">stag_exit_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param exit_mach: Mach number at exit</span>
<span class="sd">        :param inlet_mach: Mach number at inlet</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param stag_inlet_temp: Stagnation temperature at inlet in units</span>
<span class="sd">                                of Kelvins</span>
<span class="sd">        :param stag_exit_temp: Stagnation temperature at exit in units</span>
<span class="sd">                               of Kelvins</span>
<span class="sd">        :return delta: The difference between the right hand and left</span>
<span class="sd">                       hand side of the equation</span>

<span class="sd">        This function assumes energy addition or loss between the</span>
<span class="sd">        entrance and exit of a component.  This function is to be</span>
<span class="sd">        iteratively solved for determine the inlet mach number with</span>
<span class="sd">        knowledge of the exit mach number and the stagnation temperatures</span>
<span class="sd">        at both ends of the component.  A component could be a combustion</span>
<span class="sd">        chamber, or any component with isentropic losses.  This equation</span>
<span class="sd">        was derived from page 75 or Ref. 1., shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\frac{T_{o1}}{T_{o2}} = \\left[\\frac{1 + \gamma M^2_2}{1 + \gamma M^2_1}</span>
<span class="sd">           \\left(\\frac{M_1}{M_2}\\right)\\right]^2\\left(\\frac{1 + \\frac{\gamma-1}{2}M^2_1}</span>
<span class="sd">           {1 + \\frac{\gamma-1}{2}M^2_2}\\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">one</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">exit_mach</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">inlet_mach</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">two</span> <span class="o">=</span> <span class="p">(</span><span class="n">one</span> <span class="o">*</span> <span class="p">(</span><span class="n">inlet_mach</span> <span class="o">/</span> <span class="n">exit_mach</span><span class="p">))</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">three</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">inlet_mach</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">four</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">exit_mach</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">five</span> <span class="o">=</span> <span class="n">three</span> <span class="o">/</span> <span class="n">four</span>
        <span class="k">return</span> <span class="n">two</span> <span class="o">*</span> <span class="n">five</span> <span class="o">-</span> <span class="p">(</span><span class="n">stag_inlet_temp</span> <span class="o">/</span> <span class="n">stag_exit_temp</span><span class="p">)</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Stagnation.press_exit_mach"><a class="viewcode-back" href="../Stagnation.html#isentropic_models.Stagnation.press_exit_mach">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">press_exit_mach</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">exit_mach</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">stag_inlet_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="n">stag_exit_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param exit_mach: Mach number at exit</span>
<span class="sd">        :param inlet_mach: Mach number at inlet</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param stag_inlet_pres: Stagnation pressure at inlet, in units</span>
<span class="sd">                                of Pascals</span>
<span class="sd">        :param stag_exit_pres: Stagnation pressure at exit, in units of</span>
<span class="sd">                               Pascals</span>
<span class="sd">        :return delta: The difference between the right hand and left</span>
<span class="sd">                       hand side of the equation</span>

<span class="sd">        This function assumes energy addition or loss between the</span>
<span class="sd">        entrance and exit of a component.  This function is to be</span>
<span class="sd">        iteratively solved for determine the inlet mach number with</span>
<span class="sd">        knowledge of the exit mach number and the stagnation pressures</span>
<span class="sd">        at both ends of the component.  A component could be a combustion</span>
<span class="sd">        chamber, or any component with isentropic losses.  This equation</span>
<span class="sd">        was derived from page 75 or Ref. 1., shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\frac{P_{o1}}{P_{o2}} = \\left[\\frac{1 + \gamma M^2_2}{1 + \gamma M^2_1}</span>
<span class="sd">           \\right]\\left(\\frac{1 + \\frac{\gamma-1}{2}M^2_1}</span>
<span class="sd">           {1 + \\frac{\gamma-1}{2}M^2_2}\\right)^{\gamma/\\left(\gamma-1\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">one</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">exit_mach</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">inlet_mach</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">two</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">inlet_mach</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">three</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">exit_mach</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">four</span> <span class="o">=</span> <span class="p">(</span><span class="n">two</span> <span class="o">/</span> <span class="n">three</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">one</span> <span class="o">*</span> <span class="n">four</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">stag_inlet_pres</span> <span class="o">/</span> <span class="n">stag_exit_pres</span><span class="p">)</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># This class describes the performance of a diffuser</span>


<div class="viewcode-block" id="DiffuserNozzle"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle">[docs]</a><span class="k">class</span> <span class="nc">DiffuserNozzle</span><span class="p">(</span><span class="n">Stagnation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains functions that determine the exit conditions for</span>
<span class="sd">    a diffuser or nozzle assuming knowledge of the inlet properties.  These</span>
<span class="sd">    relationships are developed for sub-sonic, incompressible flows and</span>
<span class="sd">    assume a negligible change the ratio of specific heats throughout the</span>
<span class="sd">    process.  All relationships are developed from the following references.</span>

<span class="sd">    1. Hill, P. and Peterson, C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="sd">       Addison Wesley Publishing Co., Reading, MA, 1992</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the diffuser or nozzle</span>
<span class="sd">        :param inlet_area: The diffuser or nozzle inlet area in units of</span>
<span class="sd">                           square meters</span>
<span class="sd">        :param exit_area: The diffuser or nozzle exit area in units of</span>
<span class="sd">                          square meters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">=</span> <span class="n">efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inlet_area</span> <span class="o">=</span> <span class="n">inlet_area</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span> <span class="o">=</span> <span class="n">exit_area</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_stagnation_pressure"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_stagnation_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">inlet_static_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">inlet_mach_number</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param inlet_static_pres: The stagnation tempressure at the entrance</span>
<span class="sd">                                  to the diffuser or nozzle, in units of Pa</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the diffuser or</span>
<span class="sd">                                  nozzle inlet</span>
<span class="sd">        :return exit_stag_pres: The stagnation pressure at the exit of the</span>
<span class="sd">                                diffuser or nozzle, in units of Pa</span>

<span class="sd">        This function determines the diffuser or nozzle outlet stagnation</span>
<span class="sd">        temperature using the relationship from pg. 225 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P_{o}=\\left[\eta M^2_{inlet}\\frac{\gamma - 1}{2}\\right]^{\gamma / \\left(\gamma - 1\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gamma_factor</span> <span class="o">=</span> <span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">*</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span>
                          <span class="n">inlet_mach_number</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">**</span> <span class="n">gamma_factor</span>
        <span class="k">return</span> <span class="n">exit_stag_pres</span> <span class="o">*</span> <span class="n">inlet_static_pres</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_stagnation_temperature"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_stagnation_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_static_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">inlet_static_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_static_temp: The diffuser or nozzle inlet static</span>
<span class="sd">                                  temperature in units of Kelvins</span>
<span class="sd">        :param inlet_static_pres: The diffuser or nozzle inlet static</span>
<span class="sd">                                  pressure in units of Pascals</span>
<span class="sd">        :param inlet_mach_number: The diffuser or nozzle inlet Mach number</span>
<span class="sd">        :return exit_stag_temp: The diffuser or nozzle exit stagnation</span>
<span class="sd">                                temperature in units of Kelvins</span>

<span class="sd">        This function determines the diffuser or nozzle  outlet stagnation</span>
<span class="sd">        temperature using the relationship from pg. 225 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_{o2} = T_{o1}\\left(\\frac{P_{o2}}{P_{o1}}\\right)^{\\frac{\gamma-1}{\gamma}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_static_pres</span><span class="p">,</span>
                                                       <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="n">exit_stag_pres</span> <span class="o">/</span> <span class="n">inlet_static_pres</span><span class="p">)</span> <span class="o">**</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inlet_static_temp</span> <span class="o">*</span> <span class="n">ratio</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_velocity"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_velocity">[docs]</a>    <span class="k">def</span> <span class="nf">exit_velocity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_velocity: The diffuser inlet velocity in units of meters</span>
<span class="sd">                               per second</span>
<span class="sd">        :return exit_velocity: The diffuser exit velocity in units of meters</span>

<span class="sd">        This function determines the fluid velocity leaving the diffuser</span>
<span class="sd">        via equation a re-arrangement of the law of continuity described</span>
<span class="sd">        on page 28 of Ref. 1, shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           u_2 = \\frac{u_1A_1}{A_2}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">inlet_velocity</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">inlet_area</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_static_temperature"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_static_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_static_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_static_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param specific_heat: The specific heat at constant pressure in units</span>
<span class="sd">                              of Joules/kg-K</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param inlet_static_temp: The static temperature at the inlet</span>
<span class="sd">                                  of the diffuser or nozzle in units of</span>
<span class="sd">                                  Kelvins</span>
<span class="sd">        :param inlet_static_pres: The static pressure at the inlet of the</span>
<span class="sd">                                  diffuser or nozzle in units of Pascals</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet of the</span>
<span class="sd">                                  diffuser or nozzle</span>
<span class="sd">        :param inlet_velocity: The velocity at the inlet to the diffuser or</span>
<span class="sd">                               nozzle</span>
<span class="sd">        :return static_temp: The static temperature at the diffuser or nozzle</span>
<span class="sd">                             exit, in units of Kelvins</span>

<span class="sd">        This function determines the fluid static temperature leaving the</span>
<span class="sd">        diffuser or nozzle.  The equation is derived from Eq. 3.9 on page</span>
<span class="sd">        70 of Ref. 1, shown below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_2 = T_{o2}-\\frac{u^2}{2c_p}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_static_temp</span><span class="p">,</span>
                                                     <span class="n">inlet_static_pres</span><span class="p">,</span>
                                                     <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_velocity</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stag_temp</span> <span class="o">-</span> <span class="p">((</span><span class="n">velocity</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">specific_heat</span><span class="p">)</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_mach_number"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_mach_number">[docs]</a>    <span class="k">def</span> <span class="nf">exit_mach_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">inlet_static_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_static_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param specific_heat: The specific heat at constant pressure in units</span>
<span class="sd">                              of Joules/kg-K</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param inlet_static_temp: The static temperature at the inlet to the</span>
<span class="sd">                                  diffuser or nozzle, in units of Kelvins</span>
<span class="sd">        :param inlet_static_pres: The static pressure at the inlet to the</span>
<span class="sd">                                  diffuser or nozzle, in units of Pascals</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the diffuser</span>
<span class="sd">                                  or nozzle</span>
<span class="sd">        :param inlet_velocity: The velocity at the inlet to the diffuser or</span>
<span class="sd">                               nozzle, in units of m/s</span>
<span class="sd">        :param molar_mass: The molar mass of the fluid in units of J/mol-K</span>
<span class="sd">        :return mach_number: The Mach number at the exit to the diffuser or</span>
<span class="sd">                             nozzle</span>

<span class="sd">        This function calculates the Mach number at the diffuser or nozzle</span>
<span class="sd">        exit.  This function assumes sub-sonic, incompressible flow and uses</span>
<span class="sd">        Eq. 3.7 and 3.8 from page 69 of Ref. 1, shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           M_2 = \\frac{u_2}{\sqrt[]{\gamma R T_2}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">specific_heat</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                 <span class="n">inlet_static_temp</span><span class="p">,</span>
                                                 <span class="n">inlet_static_pres</span><span class="p">,</span>
                                                 <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">inlet_velocity</span><span class="p">)</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_velocity</span><span class="p">)</span>
        <span class="n">mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mach_number</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">stat_temp</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">,</span> <span class="n">velocity</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mach_number</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_static_pressure"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_static_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_static_pres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_static_temp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param inlet_static_pres: The static temperature at the inlet to</span>
<span class="sd">                                  the diffuser or nozzle, in units of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the diffuser/nozzle</span>
<span class="sd">                                  inlet</span>
<span class="sd">        :param specific_heat: The specific heat at constant pressure in units</span>
<span class="sd">                              of Joules/kg-K</span>
<span class="sd">        :param inlet_static_temp: The static temperature at the inlet</span>
<span class="sd">                                  of the diffuser or nozzle, in units of</span>
<span class="sd">                                  Kelvins</span>
<span class="sd">        :param inlet_velocity: The velocity at the inlet to the diffuser or</span>
<span class="sd">                               nozzle in units of m/s</span>
<span class="sd">        :param molar_mass: The molar mass of the fluid in units of J/mol-K</span>
<span class="sd">        :return stat_pres: The static pressure at the exit to the diffuser</span>
<span class="sd">                           or nozzle in units of Pascals</span>

<span class="sd">        This function calculates the static pressure at the exit of the</span>
<span class="sd">        diffuser or nozzle.  This function assumes sub-sonic, incompressible</span>
<span class="sd">        flow, assuming the following relationship</span>

<span class="sd">        .. math::</span>
<span class="sd">           P = \\frac{P_o}{\\left[1+\\frac{\gamma-1}{2}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_static_pres</span><span class="p">,</span>
                                                  <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">mach_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">specific_heat</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                         <span class="n">inlet_static_temp</span><span class="p">,</span> <span class="n">inlet_static_pres</span><span class="p">,</span>
                                         <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">inlet_velocity</span><span class="p">,</span>
                                         <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">(</span><span class="n">stag_pres</span><span class="p">,</span> <span class="n">mach_num</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_pres</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzle.exit_density"><a class="viewcode-back" href="../Diffuser_Nozzle.html#isentropic_models.DiffuserNozzle.exit_density">[docs]</a>    <span class="k">def</span> <span class="nf">exit_density</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_velocity: The velocity at the inlet to the diffuser or</span>
<span class="sd">                               nozzle, in units of m/s</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of</span>
<span class="sd">                               kg/s</span>
<span class="sd">        :return exit_density: The fluid density at the diffuser/nozzle exit</span>
<span class="sd">                              im units of kg/s</span>

<span class="sd">        This function calculates the fluid density at the ext to the diffuser</span>
<span class="sd">        or nozzle with the following relationship.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\rho = \\frac{\dot{m}}{uA}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_velocity</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mass_flow_rate</span> <span class="o">/</span> <span class="p">(</span><span class="n">velocity</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span><span class="p">)</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># This class describes the performance of a compressor</span>


<div class="viewcode-block" id="Compressor"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor">[docs]</a><span class="k">class</span> <span class="nc">Compressor</span><span class="p">(</span><span class="n">Stagnation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains functions that determine the exit conditions for</span>
<span class="sd">    a gas compressor assuming knowledge of the inlet properties.  These</span>
<span class="sd">    relationships are developed for sub-sonic, incompressible flows and</span>
<span class="sd">    assume a negligible change the ratio of specific heats throughout the</span>
<span class="sd">    process.  All relationships are developed from the following references.</span>

<span class="sd">    1. Hill, P. and Peterson, C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="sd">       Addison Wesley Publishing Co., Reading, MA, 1992</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compression_ratio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                 <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param compression_ratio: The ratio of outlet stagnation pressure</span>
<span class="sd">                                  to inlet stagnation pressure</span>
<span class="sd">        :param efficiency: The compressor isentropic efficiency</span>
<span class="sd">        :param exit_area; The flow area at the compressor exit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compression_ratio</span> <span class="o">=</span> <span class="n">compression_ratio</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">=</span> <span class="n">efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span> <span class="o">=</span> <span class="n">exit_area</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_stagnation_pressure"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_stagnation_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_pressure: The inlet stagnation pressure in units</span>
<span class="sd">                               of Pascals</span>
<span class="sd">        :return outlet_stagnation_pressure: The stagnation pressure</span>
<span class="sd">                                            leaving the compressure in</span>
<span class="sd">                                            units of Pascals</span>

<span class="sd">        This function calculates the stagnation pressure leaving the compressor</span>
<span class="sd">        using Equation 5.30 from page 161 of Ref. 1, shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           p_{cr}=\\frac{P_{oexit}}{P_{oinlet}}</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression_ratio</span> <span class="o">*</span> <span class="n">inlet_stagnation_pressure</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_stagnation_temperature"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_stagnation_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             compressor inlet in units of Kelvins</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :return exit_stag_temp: The stagnation temperature at the exit of the</span>
<span class="sd">                                compressor in units of Kelvins</span>

<span class="sd">        This function calculates the stagnation temperature leaving the</span>
<span class="sd">        compressor using Equation 5.40 from page 171 of Ref. 1 shown</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_{oexit} = T_{oinlet}\\left[1 + \\frac{1}{\eta_c}</span>
<span class="sd">           \\left(p_{cr}^{\\frac{\gamma-1}{\gamma}}\\right) - 1\\right]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="n">inlet_stagnation_temperature</span> <span class="o">*</span> <span class="p">((</span><span class="mf">1.0</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span><span class="p">)</span> <span class="o">*</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compression_ratio</span> <span class="o">**</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="n">gamma</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">stag_temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.compressor_work"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.compressor_work">[docs]</a>    <span class="k">def</span> <span class="nf">compressor_work</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The specific heat at constant pressure,</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the compressor inlet</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :return work: The work done on the fluid in units of Watts</span>

<span class="sd">        This function calculates the work done on the fluid by a compressor</span>
<span class="sd">        using Equation 5.43 on page 172 of Ref 1 shown below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           W = \\dot{m}c_p\\left(T_{o2} - T_{o1}\\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">gamma</span><span class="p">)</span>
        <span class="n">work</span> <span class="o">=</span> <span class="n">mass_flow_rate</span> <span class="o">*</span> <span class="n">specific_heat</span> <span class="o">*</span> <span class="p">(</span><span class="n">exit_stag_temp</span> <span class="o">-</span>
                                                 <span class="n">inlet_stagnation_temperature</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">work</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_mach_number"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_mach_number">[docs]</a>    <span class="k">def</span> <span class="nf">exit_mach_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">upper</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
                         <span class="n">lower</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_mach_number: The mach number at the compressor inlet</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             compressor inlet in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param upper: The upper bounds of the possible solution for Mach number,</span>
<span class="sd">                      defaulted to 0.999</span>
<span class="sd">        :param lower: The lower bounds of the possible solution for Mach number,</span>
<span class="sd">                      defaulted to 0.001</span>
<span class="sd">        :return mach: The mach number at the compressor exit</span>

<span class="sd">        This function determines the Mach number at the compressor exit using</span>
<span class="sd">        Eq. 3.19 from page 75 of Ref. 1 as shown below.  The function cannot directly</span>
<span class="sd">        solve for the exit Mach number and instead uses the bisect method to</span>
<span class="sd">        solve for the root value.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\frac{T_{o2}}{T_{o1}} = \\left[\\frac{1+\gamma M^2_2}{1+\gamma M^2_1}</span>
<span class="sd">           \\left(\\frac{M_2}{M_1} \\right)\\right]^2 \\left(\\frac{1+\\frac{\gamma-1}{2}M^2_2}</span>
<span class="sd">           {1+\\frac{\gamma-1}{2}M^2_1} \\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">gamma</span><span class="p">)</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="n">bisect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temp_exit_mach</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span>
                      <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                            <span class="n">exit_stag_temp</span><span class="p">),</span> <span class="n">full_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mach</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_static_pressure"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_static_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the</span>
<span class="sd">                                          compressor entrance in units of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             compressor entrance in unites of Kelvins</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the compressor entrance</span>
<span class="sd">        :return stat_press: The static pressure at the exit in units of Pascals</span>

<span class="sd">        This function solves for the compressor exit static pressure using</span>
<span class="sd">        the relationship from pg. 72 or reference 1, shown</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P = \\frac{P_o}{\\left[1+\\frac{\gamma-1}{2}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span>
                                            <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                            <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">)</span>
        <span class="n">stat_press</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">(</span><span class="n">exit_stag_pres</span><span class="p">,</span>
                                          <span class="n">mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_press</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_static_temperature"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_static_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             compressor inlet in units of Kelvins</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the compressor</span>
<span class="sd">        :return stat_temp: The static temperature at the outlet of the compressor</span>

<span class="sd">        This function determines the static temperature</span>
<span class="sd">        using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T = \\frac{T_o}{\\left(1+\\frac{\gamma-1}{2}M^2\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span>
                                            <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                            <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">gamma</span><span class="p">)</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_temperature</span><span class="p">(</span><span class="n">exit_stag_temp</span><span class="p">,</span> <span class="n">mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_velocity"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_velocity">[docs]</a>    <span class="k">def</span> <span class="nf">exit_velocity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             compressor inlet in units of Kelvins</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the compressor inlet</span>
<span class="sd">        :param molar_mass: The fluid molar mass in units of J/mol-K</span>
<span class="sd">        :return velocity: The fluid velocity in units of meters per second</span>

<span class="sd">        This function determines the fluid velocity via the relationship shown</span>
<span class="sd">        below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           u = M\\sqrt[]{\gamma R T}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">sos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">stat_temp</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mach_number</span> <span class="o">*</span> <span class="n">sos</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Compressor.exit_density"><a class="viewcode-back" href="../Compressor.html#isentropic_models.Compressor.exit_density">[docs]</a>    <span class="k">def</span> <span class="nf">exit_density</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             compressor inlet in units of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the compressor inlet</span>
<span class="sd">        :param molar_mass: The molar mass of the fluid</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :return density: The fluid density at the compressor outlet in</span>
<span class="sd">                         units of kg per cubic meters</span>

<span class="sd">        This function determines the fluid density via the equation shown below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\rho = \\frac{\dot{m}}{uA}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                      <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mass_flow_rate</span> <span class="o">/</span> <span class="p">(</span><span class="n">velocity</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span><span class="p">)</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># - This class describes the performance of a heat source such as would</span>
<span class="c1">#   be seen with a combustion chamber or heat exchanger</span>


<div class="viewcode-block" id="HeatAddition"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition">[docs]</a><span class="k">class</span> <span class="nc">HeatAddition</span><span class="p">(</span><span class="n">Stagnation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains functions that determine the exit conditions for</span>
<span class="sd">    a heat exchanger or combustion chamber with knowledge of the inlet properties.</span>
<span class="sd">    These relationships are developed for sub-sonic, incompressible flows and</span>
<span class="sd">    assume a negligible change the ratio of specific heats throughout the</span>
<span class="sd">    process.  All relationships are developed from the following references.</span>

<span class="sd">    1. Hill, P. and Peterson, C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="sd">       Addison Wesley Publishing Co., Reading, MA, 1992</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the heat exchanger</span>
<span class="sd">        :param exit_area: The cross-sectional area of the heat addition</span>
<span class="sd">                          component</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">=</span> <span class="n">efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span> <span class="o">=</span> <span class="n">exit_area</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.input_power"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.input_power">[docs]</a>    <span class="k">def</span> <span class="nf">input_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param heat_addition: The heat that must be added to the fluid in</span>
<span class="sd">                              units of Watts</span>
<span class="sd">        :return power: The power that must be supplied to the heat exchanger</span>
<span class="sd">                       in units of Watts</span>

<span class="sd">        This function determines the power that must be supplied to the heat</span>
<span class="sd">        exchanger in order to supply the correct heat addition to the fluid.</span>
<span class="sd">        This function determines the input power via the equation below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \dot{Q}_t=\\frac{\dot{Q}_{he}}{\eta_{he}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">heat_addition</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_stagnation_temperature"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_stagnation_temperature">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">exit_stagnation_temperature</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation conditions at the</span>
<span class="sd">                                             inlet to the heat addition source</span>
<span class="sd">                                             in units of Kelvins</span>
<span class="sd">        :param heat_addition: The heat added to the fluid in units of Watts</span>
<span class="sd">        :param specific_heat: The specific heat of the fluid in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :return stag_temp: The stagnation temperature at the exit to the</span>
<span class="sd">                           heat addition in units of Kelvins</span>

<span class="sd">        This function determines the stagnation temperature at the heat</span>
<span class="sd">        addition component.  This function solves teh following equation</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_{o2} = T_{o1} + \\frac{\dot{Q}_{he}}{\dot{m}c_p}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="n">inlet_stagnation_temperature</span> <span class="o">+</span> <span class="n">heat_addition</span> <span class="o">/</span> \
                    <span class="p">(</span><span class="n">mass_flow_rate</span> <span class="o">*</span> <span class="n">specific_heat</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stag_temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_mach_number"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_mach_number">[docs]</a>    <span class="k">def</span> <span class="nf">exit_mach_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">lower</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
                         <span class="n">upper</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             heat addition inlet in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :param heat_addition: The heat addition in units of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the</span>
<span class="sd">                                  heat addition</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param lower: The lower bound for the Mach number solution</span>
<span class="sd">        :param upper: The upper bound for the Mach number solution</span>
<span class="sd">        :return exit_mach: The Mach number at the exit to the heat</span>
<span class="sd">                           addition unit.</span>

<span class="sd">        This function solves for the Mach number at the exit of the</span>
<span class="sd">        heat addition unit.  This equation was derived from page</span>
<span class="sd">        75 or Ref. 1., shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\frac{T_{o1}}{T_{o2}} = \\left[\\frac{1 + \gamma M^2_2}{1 + \gamma M^2_1}</span>
<span class="sd">           \\left(\\frac{M_1}{M_2}\\right)\\right]^2\\left(\\frac{1 + \\frac{\gamma-1}{2}M^2_1}</span>
<span class="sd">           {1 + \\frac{\gamma-1}{2}M^2_2}\\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                          <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="n">bisect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temp_exit_mach</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span>
                           <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                 <span class="n">exit_stag_temp</span><span class="p">),</span> <span class="n">full_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exit_mach</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_stagnation_pressure"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_stagnation_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the inlet</span>
<span class="sd">                                          to the heat addition component in</span>
<span class="sd">                                          units of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             heat addition inlet in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :param heat_addition: The heat addition in units of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the</span>
<span class="sd">                                  heat addition</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :return exit_stag_pressure: The stagnation pressure at the exit</span>
<span class="sd">                                    to the heat addition component in</span>
<span class="sd">                                    units of Pascals</span>

<span class="sd">        This function determines the stagnation at the exit of the heat</span>
<span class="sd">        addition component.</span>

<span class="sd">        This equation</span>
<span class="sd">        was derived from page 75 of Ref. 1., shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P_{o2} = P_{o1}\\left[\\frac{1 + \gamma M^2_1}{1 + \gamma M^2_2}</span>
<span class="sd">           \\right]\\left(\\frac{1 + \\frac{\gamma-1}{2}M^2_2}</span>
<span class="sd">           {1 + \\frac{\gamma-1}{2}M^2_1}\\right)^{\gamma/\\left(\gamma-1\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                          <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                          <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                          <span class="n">gamma</span><span class="p">)</span>
        <span class="n">one</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">exit_mach</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">inlet_mach_number</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">two</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">inlet_mach_number</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">three</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">exit_mach</span> <span class="o">**</span> <span class="mf">2.0</span>
        <span class="n">four</span> <span class="o">=</span> <span class="p">(</span><span class="n">two</span> <span class="o">/</span> <span class="n">three</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">inlet_stagnation_pressure</span> <span class="o">/</span> <span class="p">(</span><span class="n">one</span> <span class="o">*</span> <span class="n">four</span><span class="p">)</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_static_temperature"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_static_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation conditions at the</span>
<span class="sd">                                             heat addition component inlet in</span>
<span class="sd">                                             units of Kelvins</span>
<span class="sd">        :param heat_addition: The heat addition in units of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the heat addition</span>
<span class="sd">                                  component inlet</span>
<span class="sd">        :return exit_static_temp: The static temperature at the heat</span>
<span class="sd">                                  addition component in units of Kelvins</span>

<span class="sd">        This function determines the static temperature at the heat</span>
<span class="sd">        addition component exit.  This function determines the static</span>
<span class="sd">        temperature using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T = \\frac{T_o}{\\left(1+\\frac{\gamma-1}{2}M^2\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                          <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">heat_addition</span><span class="p">,</span>
                                                 <span class="n">specific_heat</span><span class="p">,</span>
                                                 <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_static_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_temperature</span><span class="p">(</span><span class="n">exit_stag_temp</span><span class="p">,</span>
                                                   <span class="n">exit_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exit_static_temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_static_pressure"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_static_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the inlet</span>
<span class="sd">                                          to the heat addition component in</span>
<span class="sd">                                          units of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation conditions at the</span>
<span class="sd">                                             heat addition component inlet in</span>
<span class="sd">                                             units of Kelvins</span>
<span class="sd">        :param heat_addition: The heat addition in units of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the heat addition</span>
<span class="sd">                                  component inlet</span>
<span class="sd">        :return static_pressure: The static pressure at the heat addition</span>
<span class="sd">                                 component inlet in units of Pascals</span>

<span class="sd">        This function determines the static pressure at the exit to the</span>
<span class="sd">        heat addition component. This function determines the static pressure</span>
<span class="sd">        using the relationship from pg. 72 or reference 1, shown</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P = \\frac{P_o}{\\left[1+\\frac{\gamma-1}{2}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                 <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">)</span>
        <span class="n">static_pressure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                               <span class="n">exit_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">static_pressure</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_velocity"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_velocity">[docs]</a>    <span class="k">def</span> <span class="nf">exit_velocity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation conditions at the</span>
<span class="sd">                                             heat addition component inlet in</span>
<span class="sd">                                             units of Kelvins</span>
<span class="sd">        :param heat_addition: The heat addition in units of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the heat addition</span>
<span class="sd">                                  component inlet</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param molar_mass: Molar mass of the fluid in units of J/mol-K</span>
<span class="sd">        :return exit_velocity: The fluid velocity at the exit to the</span>
<span class="sd">                               heat addition component in units of</span>
<span class="sd">                               meters per second</span>

<span class="sd">        This function determines the fluid velocity leaving the heat</span>
<span class="sd">        addition component by solving the equation below</span>

<span class="sd">        .. math::</span>
<span class="sd">           u = M\sqrt[]{\gamma R T}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                          <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                          <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                          <span class="n">gamma</span><span class="p">)</span>
        <span class="n">static_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                   <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                   <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                   <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">sos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">static_temp</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exit_mach</span> <span class="o">*</span> <span class="n">sos</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAddition.exit_density"><a class="viewcode-back" href="../HeatAddition.html#isentropic_models.HeatAddition.exit_density">[docs]</a>    <span class="k">def</span> <span class="nf">exit_density</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             heat addition inlet in units of Kelvins</span>
<span class="sd">        :param heat_addition: The usable work extracted by the turbine in units</span>
<span class="sd">                              of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the heat</span>
<span class="sd">                                  addition component</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param molar_mass: The molar mass of the fluid</span>
<span class="sd">        :return density: The fluid density at the heat addition outlet in</span>
<span class="sd">                         units of kg per cubic meters</span>

<span class="sd">        This function determines the fluid density via the equation shown below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\rho = \\frac{\dot{m}}{uA}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">heat_addition</span><span class="p">,</span>
                                      <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                      <span class="n">gamma</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mass_flow_rate</span> <span class="o">/</span> <span class="p">(</span><span class="n">velocity</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span><span class="p">)</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># This class describes the performance of a compressor</span>


<div class="viewcode-block" id="Turbine"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine">[docs]</a><span class="k">class</span> <span class="nc">Turbine</span><span class="p">(</span><span class="n">Stagnation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains functions that determine the exit conditions for</span>
<span class="sd">    a gas turbine assuming knowledge of the inlet properties.  These</span>
<span class="sd">    relationships are developed for sub-sonic, incompressible flows and</span>
<span class="sd">    assume a negligible change the ratio of specific heats throughout the</span>
<span class="sd">    process.  All relationships are developed from the following references.</span>

<span class="sd">    1. Hill, P. and Peterson, C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="sd">       Addison Wesley Publishing Co., Reading, MA, 1992</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the turbine</span>
<span class="sd">        :param exit_area: The cross-sectional area of the heat addition</span>
<span class="sd">                          component</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">=</span> <span class="n">efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span> <span class="o">=</span> <span class="n">exit_area</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.work_extraction"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.work_extraction">[docs]</a>    <span class="k">def</span> <span class="nf">work_extraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param turbine_work: The usable work extracted by the turbine in</span>
<span class="sd">                             units of Watts</span>
<span class="sd">        :return total_work: The total work extracted by a turbine in</span>
<span class="sd">                            units of</span>

<span class="sd">        This function solves for the total work to be extracted from the</span>
<span class="sd">        system with knowledge of the work required for an alternator</span>
<span class="sd">        or a compressor.  This function solves the equation below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \dot{W}_{total}=\\frac{\dot{W}_t}{\eta_t}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">turbine_work</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_stagnation_temperature"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_stagnation_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param turbine_work: The total work to be extracted by the turbine</span>
<span class="sd">                             in units of Watts</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the turbine inlet in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :return stag_temp: The stagnation temperature at the turbine exit</span>
<span class="sd">                           in units of Kelvins</span>

<span class="sd">        This function calculates the stagnation temperature at the exit to</span>
<span class="sd">        the compressor with the equation below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_{o2} = T_{o1} - \\frac{\dot{W}_{total}}{\dot{m}c_p}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">total_work</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">work_extraction</span><span class="p">(</span><span class="n">turbine_work</span><span class="p">)</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="n">inlet_stagnation_temperature</span> <span class="o">-</span> <span class="p">(</span><span class="n">total_work</span> <span class="o">/</span>
                                                    <span class="p">(</span><span class="n">mass_flow_rate</span> <span class="o">*</span> <span class="n">specific_heat</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stag_temp</span></div>
<span class="c1"># ---------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_stagnation_pressure"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_stagnation_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the turbine</span>
<span class="sd">                                          inlet in units of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             turbine inlet in units of Kelvins</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine in</span>
<span class="sd">                             units of Watts</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :return stag_pres: The stagnation pressure at the exit to the</span>
<span class="sd">                           diffuser in units of Pascals</span>

<span class="sd">        This function solves for the stagnation pressure at the turbine exit</span>
<span class="sd">        using the equation below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           P_{o2} = P_{o1}\\left[1 - \\frac{1}{\eta_t}\\left(1 -</span>
<span class="sd">           \\frac{T_{o2}}{T_{o1}} \\right) \\right]^{\\frac{\gamma}{\gamma - 1}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                     <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">)</span>
        <span class="n">one</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">stag_temp</span> <span class="o">/</span> <span class="n">inlet_stagnation_temperature</span><span class="p">))</span>
        <span class="n">stag_pres</span> <span class="o">=</span> <span class="n">inlet_stagnation_pressure</span> <span class="o">*</span> <span class="n">one</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stag_pres</span></div>
<span class="c1"># ---------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_mach_number"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_mach_number">[docs]</a>    <span class="k">def</span> <span class="nf">exit_mach_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">lower</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
                         <span class="n">upper</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             turbine inlet in units of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the</span>
<span class="sd">                                  turbine</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param lower: The lower bound for Mach number preset to 0.001</span>
<span class="sd">        :param upper: The upper bound for Mach number preset to 0.999</span>
<span class="sd">        :return exit_mach: The Mach number at the exit to the turbine</span>

<span class="sd">        This function determines the Mach number at the exit to the</span>
<span class="sd">        turbine using the equation shown below.</span>


<span class="sd">        .. math::</span>
<span class="sd">           \\frac{T_{o1}}{T_{o2}} = \\left[\\frac{1 + \gamma M^2_2}{1 + \gamma M^2_1}</span>
<span class="sd">           \\left(\\frac{M_1}{M_2}\\right)\\right]^2\\left(\\frac{1 + \\frac{\gamma-1}{2}M^2_1}</span>
<span class="sd">           {1 + \\frac{\gamma-1}{2}M^2_2}\\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                          <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                          <span class="n">inlet_stagnation_temperature</span><span class="p">)</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="n">bisect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temp_exit_mach</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span>
                           <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                 <span class="n">exit_stag_temp</span><span class="p">),</span> <span class="n">full_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exit_mach</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>
<span class="c1"># ---------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_static_temperature"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_static_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the inlet to the turbine in</span>
<span class="sd">                                             units of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the</span>
<span class="sd">                                  turbine</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :return stat_temp: The static temperature at the exit to the</span>
<span class="sd">                           turbine in units of Kelvins.</span>

<span class="sd">        This function determines the static temperature at the exit to the</span>
<span class="sd">        turbine by solving the equation below.</span>


<span class="sd">        .. math::</span>
<span class="sd">           T = \\frac{T_o}{\\left(1+\\frac{\gamma-1}{2}M^2\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                          <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">,</span>
                                          <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                     <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                     <span class="n">inlet_stagnation_temperature</span><span class="p">)</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_temperature</span><span class="p">(</span><span class="n">stag_temp</span><span class="p">,</span> <span class="n">exit_mach</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_temp</span></div>
<span class="c1"># ---------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_static_pressure"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_static_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             inlet to the turbine in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the turbine</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the inlet</span>
<span class="sd">                                          to the turbine in units of Pascals</span>
<span class="sd">        :return stat_pres: The static pressure at the exit to the turbine</span>
<span class="sd">                           in units of Pascals.</span>

<span class="sd">        This function determines the static pressure at the turbine exit</span>
<span class="sd">        using the equation below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           P = \\frac{P_o}{\\left[1+\\frac{\gamma-1}{2}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                          <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">,</span>
                                          <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                  <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                  <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                  <span class="n">turbine_work</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="n">stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span> <span class="n">exit_mach</span><span class="p">,</span>
                                         <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_pres</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_velocity"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_velocity">[docs]</a>    <span class="k">def</span> <span class="nf">exit_velocity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the turbine inlet in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the turbine</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param molar_mass: The molar mass in units of J/mol-K</span>
<span class="sd">        :return velocity: The fluid velocity in meters per second</span>

<span class="sd">        This function determines the fluid velocity using the equation</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           u = M \sqrt[]{\gamma R T}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">,</span>
                                                 <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                          <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">,</span>
                                          <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">sos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">stat_temp</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sos</span> <span class="o">*</span> <span class="n">exit_mach</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Turbine.exit_density"><a class="viewcode-back" href="../Turbine.html#isentropic_models.Turbine.exit_density">[docs]</a>    <span class="k">def</span> <span class="nf">exit_density</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             heat addition inlet in units of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the turbine inlet</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param molar_mass: The molar mass of the fluid</span>
<span class="sd">        :return density: The fluid density at the heat addition outlet in</span>
<span class="sd">                         units of kg per cubic meters</span>

<span class="sd">        This function determines the fluid density via the equation shown below.</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\rho = \\frac{\dot{m}}{uA}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                      <span class="n">gamma</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                      <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mass_flow_rate</span> <span class="o">/</span> <span class="p">(</span><span class="n">velocity</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span><span class="p">)</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>


<div class="viewcode-block" id="Propeller"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller">[docs]</a><span class="k">class</span> <span class="nc">Propeller</span><span class="p">(</span><span class="n">Stagnation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains functions that determine the exit conditions for</span>
<span class="sd">    a propeller assuming knowledge of the inlet properties.  These</span>
<span class="sd">    relationships are developed for sub-sonic, incompressible flows and</span>
<span class="sd">    assume a negligible change the ratio of specific heats throughout the</span>
<span class="sd">    process.  All relationships are developed from the following references.</span>

<span class="sd">    1. Hill, P. and Peterson, C., &quot;Mechanics and Thermodynamics of Propulsion,&quot;</span>
<span class="sd">       Addison Wesley Publishing Co., Reading, MA, 1992</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the propeller</span>
<span class="sd">        :param exit_area: The cross-sectional area of the propeller</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">=</span> <span class="n">efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span> <span class="o">=</span> <span class="n">exit_area</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.propeller_work"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.propeller_work">[docs]</a>    <span class="k">def</span> <span class="nf">propeller_work</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param extracted_work: The usable work extracted by the</span>
<span class="sd">                               propeller in units of Watts</span>
<span class="sd">        :return total_work: The total amount of work extracted by the</span>
<span class="sd">                            propeller in units of Watts.</span>

<span class="sd">        This function determines the total amount of work extracted</span>
<span class="sd">        by the propeller using the equation below</span>

<span class="sd">        .. math::</span>
<span class="sd">           \dot{W}_p = \\frac{\dot{W}}{\eta_p}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">extracted_work</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_stagnation_temperature"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_stagnation_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the propeller inlet in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller</span>
<span class="sd">                               in units of Watts</span>
<span class="sd">        :return stag_temp: The stagnation temperature at the propeller</span>
<span class="sd">                           exit in units of Kelvins</span>

<span class="sd">        This function determines the stagnation temperature leaving</span>
<span class="sd">        the propeller using the equation below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T_{o2} = T_{o1} + \\frac{\dot{W}_p}{\dot{m}c_p}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">work</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">propeller_work</span><span class="p">(</span><span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">inlet_stagnation_temperature</span> <span class="o">+</span> <span class="p">(</span><span class="n">work</span> <span class="o">/</span> <span class="p">(</span><span class="n">mass_flow_rate</span> <span class="o">*</span> <span class="n">specific_heat</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_stagnation_pressure"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_stagnation_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_stagnation_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                 <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the</span>
<span class="sd">                                          propeller inlet in units of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature</span>
<span class="sd">                                             at the propeller inlet in</span>
<span class="sd">                                             units of Kelvins</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller</span>
<span class="sd">                               in units of Watts</span>
<span class="sd">        :return stag_pres: The stagnation pressure at the propeller</span>
<span class="sd">                           exit in units of Pascals</span>

<span class="sd">        This function determines the stagnation pressure at the propeller</span>
<span class="sd">        exit using the equation shown below;</span>

<span class="sd">        .. math::</span>
<span class="sd">           P_{o2} = P_{o1} \\left[1 + \eta_d\\left(\\frac{T_{o2}}{T_{o1}} - 1 \\right)</span>
<span class="sd">           \\right]^{\\frac{\gamma}{\gamma - 1}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                     <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                     <span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">one</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">*</span> <span class="p">((</span><span class="n">inlet_stagnation_temperature</span> <span class="o">/</span> <span class="n">stag_temp</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inlet_stagnation_pressure</span> <span class="o">*</span> <span class="n">one</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_mach_number"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_mach_number">[docs]</a>    <span class="k">def</span> <span class="nf">exit_mach_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">lower</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
                         <span class="n">upper</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             inlet to the propeller in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the propeller inlet</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure in</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller in</span>
<span class="sd">                               units of Watts</span>
<span class="sd">        :param gamma: Ratio of specific heats</span>
<span class="sd">        :param lower: The lower bounds for Mach number</span>
<span class="sd">        :param upper: The upper bounds for Mach number</span>
<span class="sd">        :return mach_number: The Mach number at the propeller exit</span>

<span class="sd">        This equation determines the Mach number at the propeller exit.</span>
<span class="sd">        This equation</span>
<span class="sd">        was derived from page 75 or Ref. 1., shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\frac{T_{o1}}{T_{o2}} = \\left[\\frac{1 + \gamma M^2_2}{1 + \gamma M^2_1}</span>
<span class="sd">           \\left(\\frac{M_1}{M_2}\\right)\\right]^2\\left(\\frac{1 + \\frac{\gamma-1}{2}M^2_1}</span>
<span class="sd">           {1 + \\frac{\gamma-1}{2}M^2_2}\\right)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                     <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                     <span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">exit_mach</span> <span class="o">=</span> <span class="n">bisect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temp_exit_mach</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span>
                           <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                 <span class="n">exit_temp</span><span class="p">),</span> <span class="n">full_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exit_mach</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_static_temperature"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_static_temperature">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             inlet to the propeller in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the entrance to the</span>
<span class="sd">                                  propeller</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller</span>
<span class="sd">                               in units of Watts</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :return stat_temp: The static temperature at the propeller exit</span>
<span class="sd">                           in units of Kelvins</span>

<span class="sd">        This function determines the static temperature at the propeller</span>
<span class="sd">        exit using the relationship from pg. 72 or reference 1,</span>
<span class="sd">        shown below</span>

<span class="sd">        .. math::</span>
<span class="sd">           T = \\frac{T_o}{\\left(1+\\frac{\gamma-1}{2}M^2\\right)}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                     <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                     <span class="n">gamma</span><span class="p">)</span>
        <span class="n">stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                     <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                     <span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_temperature</span><span class="p">(</span><span class="n">stag_temp</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_temp</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_static_pressure"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_static_pressure">[docs]</a>    <span class="k">def</span> <span class="nf">exit_static_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                             <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             propeller inlet in units of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the inlet to the propeller</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units if J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller in</span>
<span class="sd">                               units of Watts</span>
<span class="sd">        :param gamma: The ratio of specific heat</span>
<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the</span>
<span class="sd">                                          propeller inlet in units of Pascals</span>
<span class="sd">        :return stat_pressure: The stagnation pressure at the propeller</span>
<span class="sd">                               exit in units of Pascals</span>

<span class="sd">        This function determines the static pressure at the propeller exit</span>
<span class="sd">        using the relationship from pg. 72 or reference 1, shown</span>
<span class="sd">        below</span>

<span class="sd">        .. math::</span>
<span class="sd">           P = \\frac{P_o}{\\left[1+\\frac{\gamma-1}{2}M^2\\right]^{\gamma/\\left(\gamma-1\\right)}}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                     <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                     <span class="n">gamma</span><span class="p">)</span>
        <span class="n">stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                  <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                  <span class="n">gamma</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                  <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">(</span><span class="n">stag_pres</span><span class="p">,</span> <span class="n">mach</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stat_pres</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_velocity"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_velocity">[docs]</a>    <span class="k">def</span> <span class="nf">exit_velocity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the propeller inlet in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the propeller inlet</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller</span>
<span class="sd">                               in units of Watts</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param molar_mass: The molar mass in units of J/mol-K</span>
<span class="sd">        :return velocity: The fluid velocity leaving the propeller</span>
<span class="sd">                          in units of meters per second</span>

<span class="sd">        This function determines the fluid velocity leaving the</span>
<span class="sd">        propeller using the following equation</span>

<span class="sd">        .. math::</span>
<span class="sd">           u = M\sqrt[]{\gamma R T}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                 <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">)</span>
        <span class="n">sos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">stat_temp</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                     <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                     <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                     <span class="n">gamma</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sos</span> <span class="o">*</span> <span class="n">mach</span></div>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Propeller.exit_density"><a class="viewcode-back" href="../Propeller.html#isentropic_models.Propeller.exit_density">[docs]</a>    <span class="k">def</span> <span class="nf">exit_density</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the propeller inlet in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the propeller inlet</span>
<span class="sd">        :param mass_flow_rate: The mass flow rate in units of kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param extracted_work: The usable work extracted by the propeller</span>
<span class="sd">                               in units of Watts</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param molar_mass: The molar mass in units of J/mol-K</span>
<span class="sd">        :return density: The fluid density leaving the propeller</span>
<span class="sd">                         in units of meters per second</span>

<span class="sd">        This function determines the fluid density leaving the</span>
<span class="sd">        propeller using the following equation</span>

<span class="sd">        .. math::</span>
<span class="sd">           \\rho = \\frac{\dot{m}}{uA}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                      <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                      <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                      <span class="n">gamma</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mass_flow_rate</span> <span class="o">/</span> <span class="p">(</span><span class="n">velocity</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_area</span><span class="p">)</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>


<div class="viewcode-block" id="DiffuserNozzleComponent"><a class="viewcode-back" href="../DiffuserNozzle.html#isentropic_models.DiffuserNozzleComponent">[docs]</a><span class="k">class</span> <span class="nc">DiffuserNozzleComponent</span><span class="p">(</span><span class="n">DiffuserNozzle</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    This class combined all functionality of the DiffuserNozzle class</span>
<span class="sd">    into a single function for ease of user access</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">inlet_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the diffuser or nozzle</span>
<span class="sd">        :param inlet_area: The diffuser or nozzle inlet area in units of</span>
<span class="sd">                           square meters</span>
<span class="sd">        :param exit_area: The diffuser or nozzle exit area in units of</span>
<span class="sd">                          square meters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DiffuserNozzle</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">,</span> <span class="n">inlet_area</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">)</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DiffuserNozzleComponent.outlet_conditions"><a class="viewcode-back" href="../DiffuserNozzle.html#isentropic_models.DiffuserNozzleComponent.outlet_conditions">[docs]</a>    <span class="k">def</span> <span class="nf">outlet_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_static_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_static_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_velocity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param molar_mass: The fluid molar mass in units of J/mol-K</span>
<span class="sd">        :param inlet_static_temperature: The inlet static temperature in</span>
<span class="sd">                                         units of Kelvins</span>
<span class="sd">        :param inlet_static_pressure: The inlet static pressure in units</span>
<span class="sd">                                      of Pascals</span>
<span class="sd">        :param inlet_mach_number: The inlet Mach number</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow in units of kg/s</span>
<span class="sd">        :param inlet_velocity: The inlet fluid velocity in units of</span>
<span class="sd">                               m/s</span>
<span class="sd">        :return dict: A dictionary containing all fluid exit</span>
<span class="sd">                      properties</span>

<span class="sd">        This function simplifies the DiffuserNozzle class so the user can merely</span>
<span class="sd">        call one function and obtain out outlet properties as a dictionary with</span>
<span class="sd">        keywords `static_pressure`, `static_temperature`, `stagnation_pressure`,</span>
<span class="sd">        `stagnation_temperature`, `velocity`, `mach_number`, `density`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_static_pressure</span><span class="p">,</span>
                                                       <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_static_temperature</span><span class="p">,</span>
                                                          <span class="n">inlet_static_pressure</span><span class="p">,</span>
                                                          <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">exit_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_velocity</span><span class="p">)</span>
        <span class="n">exit_stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">specific_heat</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                      <span class="n">inlet_static_temperature</span><span class="p">,</span>
                                                      <span class="n">inlet_static_pressure</span><span class="p">,</span>
                                                      <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                      <span class="n">inlet_velocity</span><span class="p">)</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">specific_heat</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                 <span class="n">inlet_static_temperature</span><span class="p">,</span>
                                                 <span class="n">inlet_static_pressure</span><span class="p">,</span>
                                                 <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">inlet_velocity</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">exit_stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_pressure</span><span class="p">(</span><span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_static_pressure</span><span class="p">,</span>
                                                   <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                   <span class="n">inlet_static_temperature</span><span class="p">,</span> <span class="n">inlet_velocity</span><span class="p">,</span>
                                                   <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">exit_density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_density</span><span class="p">(</span><span class="n">inlet_velocity</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;static_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stat_pres</span><span class="p">,</span> <span class="s1">&#39;static_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stat_temp</span><span class="p">,</span>
                      <span class="s1">&#39;stagnation_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stag_pres</span><span class="p">,</span> <span class="s1">&#39;stagnation_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stag_temp</span><span class="p">,</span>
                      <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="n">exit_velocity</span><span class="p">,</span> <span class="s1">&#39;mach_number&#39;</span><span class="p">:</span> <span class="n">exit_mach_number</span><span class="p">,</span>
                      <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="n">exit_density</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dictionary</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>


<div class="viewcode-block" id="CompressorComponent"><a class="viewcode-back" href="../CompressorComp.html#isentropic_models.CompressorComponent">[docs]</a><span class="k">class</span> <span class="nc">CompressorComponent</span><span class="p">(</span><span class="n">Compressor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    This class combined all functionality of the Compressor class</span>
<span class="sd">    into a single function for ease of user access</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compression_ratio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                 <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param compression_ratio: The ratio of outlet stagnation pressure</span>
<span class="sd">                                  to the inlet stagnation pressure</span>
<span class="sd">        :param efficiency: The isentropic efficiency of the compressor</span>
<span class="sd">        :param exit_area: The exit area of the compressor in units</span>
<span class="sd">                          of square meters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Compressor</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compression_ratio</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">,</span>
                            <span class="n">exit_area</span><span class="p">)</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="CompressorComponent.outlet_conditions"><a class="viewcode-back" href="../CompressorComp.html#isentropic_models.CompressorComponent.outlet_conditions">[docs]</a>    <span class="k">def</span> <span class="nf">outlet_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param molar_mass: The fluid molar mass in units of J/mol-K</span>
<span class="sd">        :param inlet_mach_number: The inlet Mach number</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow in units of kg/s</span>
<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the</span>
<span class="sd">                                          inlet to the compressor in units</span>
<span class="sd">                                          of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             inlet to the compressor in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :return dict: A dictionary containing all fluid exit</span>
<span class="sd">                      properties</span>

<span class="sd">        This function simplifies the Compressor class so the user can merely</span>
<span class="sd">        call one function and obtain out outlet properties as a dictionary with</span>
<span class="sd">        keywords `static_pressure`, `static_temperature`, `stagnation_pressure`,</span>
<span class="sd">        `stagnation_temperature`, `velocity`, `mach_number`, `density`, `work`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">)</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">gamma</span><span class="p">)</span>
        <span class="n">comp_work</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compressor_work</span><span class="p">(</span><span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                         <span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                   <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                   <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">exit_stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                      <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">exit_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                           <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">exit_density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_density</span><span class="p">(</span><span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                         <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;static_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stat_pres</span><span class="p">,</span> <span class="s1">&#39;static_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stat_temp</span><span class="p">,</span>
                      <span class="s1">&#39;stagnation_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stag_pres</span><span class="p">,</span> <span class="s1">&#39;stagnation_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stag_temp</span><span class="p">,</span>
                      <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="n">exit_velocity</span><span class="p">,</span> <span class="s1">&#39;mach_number&#39;</span><span class="p">:</span> <span class="n">exit_mach_number</span><span class="p">,</span>
                      <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="n">exit_density</span><span class="p">,</span> <span class="s1">&#39;work&#39;</span><span class="p">:</span> <span class="n">comp_work</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dictionary</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>


<div class="viewcode-block" id="HeatAdditionComponent"><a class="viewcode-back" href="../HeatAdditionComponent.html#isentropic_models.HeatAdditionComponent">[docs]</a><span class="k">class</span> <span class="nc">HeatAdditionComponent</span><span class="p">(</span><span class="n">HeatAddition</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    This class combined all functionality of the Compressor class</span>
<span class="sd">    into a single function for ease of user access</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the heat</span>
<span class="sd">                           addition component</span>
<span class="sd">        :param exit_area: The cross-sectional area of the heat addition</span>
<span class="sd">                          component exit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">HeatAddition</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">)</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="HeatAdditionComponent.outlet_conditions"><a class="viewcode-back" href="../HeatAdditionComponent.html#isentropic_models.HeatAdditionComponent.outlet_conditions">[docs]</a>    <span class="k">def</span> <span class="nf">outlet_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">heat_addition</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param molar_mass: The fluid molar mass in units of J/mol-K</span>
<span class="sd">        :param inlet_mach_number: The inlet Mach number</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow in units of kg/s</span>
<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the</span>
<span class="sd">                                          inlet to the compressor in units</span>
<span class="sd">                                          of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             inlet to the compressor in units of</span>
<span class="sd">                                             Kelvins</span>
<span class="sd">        :param heat_addition: The heat added to the fluid in units of</span>
<span class="sd">                              Watts</span>
<span class="sd">        :return dict: A dictionary containing all fluid exit</span>
<span class="sd">                      properties</span>

<span class="sd">        This function simplifies the HeatAddition class so the user can merely</span>
<span class="sd">        call one function and obtain out outlet properties as a dictionary with</span>
<span class="sd">        keywords `static_pressure`, `static_temperature`, `stagnation_pressure`,</span>
<span class="sd">        `stagnation_temperature`, `velocity`, `mach_number`, `density`, and `power`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">input_power</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_power</span><span class="p">(</span><span class="n">heat_addition</span><span class="p">)</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                          <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                 <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                       <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                       <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                       <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                       <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                      <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                      <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                      <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">exit_stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                   <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                   <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                   <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                   <span class="n">inlet_mach_number</span><span class="p">)</span>
        <span class="n">exit_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                           <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                           <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                           <span class="n">gamma</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">exit_density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_density</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                         <span class="n">heat_addition</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                         <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                         <span class="n">gamma</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;static_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stat_pres</span><span class="p">,</span> <span class="s1">&#39;static_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stat_temp</span><span class="p">,</span>
                      <span class="s1">&#39;stagnation_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stag_pres</span><span class="p">,</span> <span class="s1">&#39;stagnation_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stag_temp</span><span class="p">,</span>
                      <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="n">exit_velocity</span><span class="p">,</span> <span class="s1">&#39;mach_number&#39;</span><span class="p">:</span> <span class="n">exit_mach_number</span><span class="p">,</span>
                      <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="n">exit_density</span><span class="p">,</span> <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="n">input_power</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dictionary</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>


<div class="viewcode-block" id="TurbineComponent"><a class="viewcode-back" href="../TurbineComponent.html#isentropic_models.TurbineComponent">[docs]</a><span class="k">class</span> <span class="nc">TurbineComponent</span><span class="p">(</span><span class="n">Turbine</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        This class combined all functionality of the Turbine class</span>
<span class="sd">        into a single function for ease of user access</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the turbine</span>
<span class="sd">        :param exit_area: The cross-sectional area of the turbine exit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Turbine</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">)</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="TurbineComponent.outlet_conditions"><a class="viewcode-back" href="../TurbineComponent.html#isentropic_models.TurbineComponent.outlet_conditions">[docs]</a>    <span class="k">def</span> <span class="nf">outlet_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">turbine_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param gamma: The ratio of specific specific heats</span>
<span class="sd">        :param specific_heat: The fluid specific heat at constant pressure</span>
<span class="sd">                              in units of J/kg-K</span>
<span class="sd">        :param molar_mass: The fluid molar mass in units of J/mol-K</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the turbine inlet</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of kg/s</span>
<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the turbine</span>
<span class="sd">                                          inlet in units of Pascals</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at the</span>
<span class="sd">                                             turbine inlet in units of Pascals</span>
<span class="sd">        :param turbine_work: The usable work extracted by the turbine in</span>
<span class="sd">                             units of Watts</span>
<span class="sd">        :return dict: A dictionary containing all fluid exit</span>
<span class="sd">                      properties</span>

<span class="sd">        This function simplifies the Turbine class so the user can merely</span>
<span class="sd">        call one function and obtain out outlet properties as a dictionary with</span>
<span class="sd">        keywords `static_pressure`, `static_temperature`, `stagnation_pressure`,</span>
<span class="sd">        `stagnation_temperature`, `velocity`, `mach_number`, `density`,</span>
<span class="sd">        and `extracted_work`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">work_extracted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">work_extraction</span><span class="p">(</span><span class="n">turbine_work</span><span class="p">)</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                          <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                          <span class="n">inlet_stagnation_temperature</span><span class="p">)</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                       <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                       <span class="n">specific_heat</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                       <span class="n">turbine_work</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                 <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                 <span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                 <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">exit_stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                      <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                      <span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                      <span class="n">mass_flow_rate</span><span class="p">)</span>
        <span class="n">exit_stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                   <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                                   <span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                   <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                   <span class="n">inlet_stagnation_pressure</span><span class="p">)</span>
        <span class="n">exit_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                           <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span>
                                           <span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                           <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">exit_density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_density</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                         <span class="n">gamma</span><span class="p">,</span> <span class="n">turbine_work</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                         <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;static_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stat_pres</span><span class="p">,</span> <span class="s1">&#39;static_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stat_temp</span><span class="p">,</span>
                      <span class="s1">&#39;stagnation_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stag_pres</span><span class="p">,</span> <span class="s1">&#39;stagnation_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stag_temp</span><span class="p">,</span>
                      <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="n">exit_velocity</span><span class="p">,</span> <span class="s1">&#39;mach_number&#39;</span><span class="p">:</span> <span class="n">exit_mach_number</span><span class="p">,</span>
                      <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="n">exit_density</span><span class="p">,</span> <span class="s1">&#39;extracted_work&#39;</span><span class="p">:</span> <span class="n">work_extracted</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dictionary</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>


<div class="viewcode-block" id="PropellerComponent"><a class="viewcode-back" href="../PropComp.html#isentropic_models.PropellerComponent">[docs]</a><span class="k">class</span> <span class="nc">PropellerComponent</span><span class="p">(</span><span class="n">Propeller</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        This class combined all functionality of the Propeller class</span>
<span class="sd">        into a single function for ease of user access</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param efficiency: The isentropic efficiency of the propeller</span>
<span class="sd">        :param exit_area: The cross-sectional area of the propeller exit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Propeller</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">,</span> <span class="n">exit_area</span><span class="p">)</span>
<span class="c1"># ----------------------------------------------------------------------------</span>

<div class="viewcode-block" id="PropellerComponent.outlet_conditions"><a class="viewcode-back" href="../PropComp.html#isentropic_models.PropellerComponent.outlet_conditions">[docs]</a>    <span class="k">def</span> <span class="nf">outlet_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_temperature</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">mass_flow_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_stagnation_pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">gamma</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="n">inlet_mach_number</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param extracted_work: The total usable work done by the propeller</span>
<span class="sd">        :param inlet_stagnation_temperature: The stagnation temperature at</span>
<span class="sd">                                             the propeller inlet in units</span>
<span class="sd">                                             of Kelvins</span>
<span class="sd">        :param mass_flow_rate: The fluid mass flow rate in units of</span>
<span class="sd">                               kg/s</span>
<span class="sd">        :param specific_heat: The fluid specific heat in units of J/kg-K</span>
<span class="sd">        :param inlet_stagnation_pressure: The stagnation pressure at the</span>
<span class="sd">                                          propeller inlet in units of Pascals</span>
<span class="sd">        :param gamma: The ratio of specific heats</span>
<span class="sd">        :param inlet_mach_number: The Mach number at the propeller inlet</span>
<span class="sd">        :param molar_mass: The fluid molar mass</span>
<span class="sd">        :return dict: A dictionary containing all fluid exit properties</span>

<span class="sd">        This function simplifies the Propeller class so the user can merely</span>
<span class="sd">        call one function and obtain out outlet properties as a dictionary with</span>
<span class="sd">        keywords `static_pressure`, `static_temperature`, `stagnation_pressure`,</span>
<span class="sd">        `stagnation_temperature`, `velocity`, `mach_number`, `density`,</span>
<span class="sd">        and `total_work`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">total_work</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">propeller_work</span><span class="p">(</span><span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">exit_stag_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                          <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span>
                                                          <span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">exit_stag_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stagnation_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_pressure</span><span class="p">,</span>
                                                       <span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                       <span class="n">gamma</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                       <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">)</span>
        <span class="n">exit_mach_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_mach_number</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span> <span class="n">inlet_mach_number</span><span class="p">,</span>
                                                 <span class="n">mass_flow_rate</span><span class="p">,</span> <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                                 <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stat_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_temperature</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                      <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                      <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                                      <span class="n">gamma</span><span class="p">)</span>
        <span class="n">exit_stat_pres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_static_pressure</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                                   <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                                   <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                                   <span class="n">gamma</span><span class="p">,</span> <span class="n">inlet_stagnation_pressure</span><span class="p">)</span>
        <span class="n">exit_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_velocity</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                           <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                           <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                           <span class="n">gamma</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">exit_density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_density</span><span class="p">(</span><span class="n">inlet_stagnation_temperature</span><span class="p">,</span>
                                         <span class="n">inlet_mach_number</span><span class="p">,</span> <span class="n">mass_flow_rate</span><span class="p">,</span>
                                         <span class="n">specific_heat</span><span class="p">,</span> <span class="n">extracted_work</span><span class="p">,</span>
                                         <span class="n">gamma</span><span class="p">,</span> <span class="n">molar_mass</span><span class="p">)</span>
        <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;static_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stat_pres</span><span class="p">,</span> <span class="s1">&#39;static_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stat_temp</span><span class="p">,</span>
                      <span class="s1">&#39;stagnation_pressure&#39;</span><span class="p">:</span> <span class="n">exit_stag_pres</span><span class="p">,</span> <span class="s1">&#39;stagnation_temperature&#39;</span><span class="p">:</span> <span class="n">exit_stag_temp</span><span class="p">,</span>
                      <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="n">exit_velocity</span><span class="p">,</span> <span class="s1">&#39;mach_number&#39;</span><span class="p">:</span> <span class="n">exit_mach_number</span><span class="p">,</span>
                      <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="n">exit_density</span><span class="p">,</span> <span class="s1">&#39;total_work&#39;</span><span class="p">:</span> <span class="n">total_work</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dictionary</span></div></div>
<span class="c1"># ============================================================================</span>
<span class="c1"># ============================================================================</span>
<span class="c1"># eof</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">thermosystems 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">isentropic_models</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Jonathan A. Webb.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>